---------------
Problem 28.
Solve Problem 21, the transportation problem, with the following modification: for each connection, there is a fixed cost to be paid once for establishing it, in order to use that connection to
transport materials.
The term fixed cost means that its value does not depend on the actual amounts in question.
We only have to pay the fixed cost once in order to utilize a feature. In this example, the feature
is transportation through each connection. We may choose not to establish a connection, but then
we cannot transport between that particular supply and demand.
The example problem to be solved here is the following.
 
Problem 29.
Solve Problem 28, the transportation problem with fixed costs, with data from the original example
Problem 22, and the following fixed establishment costs per connection.

S1
S2
S3
S4

D1
50
200
50
50

D2
50
50
200
50

D3
50
50
200
50

D4
50
50
50
200

D5
200
200
50
200

D6
50
50
50
200

The starting point for implementing our model is the general implementation from Section 6.2
where all connections were present. We add a new parameter FixedCost for the establishment costs
per connection. The matrix in Problem 29 can then be implemented in the data section to provide
values for FixedCost.
param FixedCost {(s,d) in Connections}, >=0;

param FixedCost:
D1
D2
D3
S1
50
50
80
S2 200
50
50
S3
50 200 200
S4
50
50
50
;

D4
50
50
50
200

D5
200
200
50
200

D6 :=
50
50
50
200

108

6.5. FIXED COSTS

TRANSPORTATION PROBLEM

Figure 5: Fixed establishment cost when any positive amount of transportation is utilized.
If we observe the schematic representation of the fixed cost (see Figure 5), then we can see that
the curve is again not convex, as in the case of economy of scale. The non-convex nature comes from
the single point where the total amount and the total cost are zero, a single point which cannot
be directly connected to the horizontal line describing the fixed cost for any amounts above zero,
without intersecting the infeasible region.
As in case of the economy of scale, we need a binary decision variable to distinguish the two
cases. Here, tranUsed equals one if we want to establish the connection and be able to send any
positive amount of materials over it. If tranUsed is zero, then transportation on that particular
connection must also be zero.
var tranUsed {(s,d) in Connections}, binary;
Two things must be enforced about the fixed cost and the tranUsed variable. The first is that
if we do not establish the connection, then there must be no amount transported there. This can
be done with a single big-M constraint.
param M := sum {s in Supplies} Available[s];
s.t. Zero_Transport_If_Fix_Cost_Not_Paid {(s,d) in Connections}:
tran[s,d] <= M * tranUsed[s,d];
The coefficient M must be large in order not to exclude legitimate solutions from the search space.
Precisely, it must be at least the largest possible value of tran[s,d] in the optimal solution to be
found. The total of all available supplies, denoted by M is a single valid candidate for all big-M
constraints, for any supply and demand. However, if we want stricter constraints that might result
in better solver running times, we can provide a particular value for each supply and demand, which
is the minimum of the available amount at the supply and the required amount at the demand.
There cannot be more traffic between the two points.

109

6.5. FIXED COSTS

TRANSPORTATION PROBLEM

s.t. Zero_Transport_If_Fix_Cost_Not_Paid {(s,d) in Connections}:
tran[s,d] <= min(Available[s],Required[d]) * tranUsed[s,d];
The second thing to implement is the inclusion of the fixed establishment cost into the objective.
minimize Total_Costs: sum {(s,d) in Connections}
(tran[s,d] * Cost[s,d] + tranUsed[s,d] * FixedCost[s,d]);
Our implementation is ready. Variable tranUsed[s,d] is either zero, in which case there is no
fixed cost but also no transportation over that connection, or tranUsed[s,d] is one, the cost is
paid and there can be a positive transportation amount over that connection. Simultaneously zero
transportation while still establishing the connection is allowed as a feasible solution in the model,
but optimization rules these cases out. The full model section is the following.
set Supplies;
set Demands;
param Available {s in Supplies}, >=0;
param Required {d in Demands}, >=0;
set Connections := Supplies cross Demands;
param Cost {(s,d) in Connections}, >=0;
param FixedCost {(s,d) in Connections}, >=0;
check sum {s in Supplies} Available[s] >= sum {d in Demands} Required[d];
var tran {(s,d) in Connections}, >=0;
var tranUsed {(s,d) in Connections}, binary;
s.t. Availability_at_Supply_Points {s in Supplies}:
sum {d in Demands} tran[s,d] <= Available[s];
s.t. Requirement_at_Demand_Points {d in Demands}:
sum {s in Supplies} tran[s,d] >= Required[d];
s.t. Zero_Transport_If_Fix_Cost_Not_Paid {(s,d) in Connections}:
tran[s,d] <= min(Available[s],Required[d]) * tranUsed[s,d];
minimize Total_Costs: sum {(s,d) in Connections}
(tran[s,d] * Cost[s,d] + tranUsed[s,d] * FixedCost[s,d]);
solve;
printf "Optimal cost: %g.\n", Total_Costs;
for {(s,d) in Connections: tran[s,d] > 0}
{
printf "From %s to %s, transport %g " &
"amount for %g (unit cost: %g, fixed: %g).\n",
s, d, tran[s,d],

110

6.6. FLEXIBLE DEMANDS

}

TRANSPORTATION PROBLEM

tran[s,d] * Cost[s,d] + FixedCost[s,d], Cost[s,d], FixedCost[s,d];

end;
The original Problem 22 with zero fixed costs and the new Problem 29 mentioned here are both
solved by the model. The original optimal solution is 2700, and is reproduced for the model with
fixed costs if these fixed costs are simply zero. If nonzero fixed costs are present, the following
output is reported.
Optimal cost: 3640.
From S1 to D1, transport 100 amount for 550 (unit cost: 5, fixed: 50).
From S2 to D1, transport 20 amount for 220 (unit cost: 1, fixed: 200).
From S2 to D2, transport 140 amount for 330 (unit cost: 2, fixed: 50).
From S2 to D4, transport 90 amount for 140 (unit cost: 1, fixed: 50).
From S3 to D3, transport 80 amount for 280 (unit cost: 1, fixed: 200).
From S3 to D5, transport 110 amount for 490 (unit cost: 4, fixed: 50).
From S4 to D3, transport 90 amount for 590 (unit cost: 6, fixed: 50).
From S4 to D6, transport 120 amount for 1040 (unit cost: 7, fixed: 200).
The objective is 3640. The connections used are not the same in the two cases. The establishment
cost paid is in total is 850, note that it is smaller than the increment of 940 of the objective. This is
natural, because not only the extra cost must be paid, but the new transportation solution obtained
is not necessarily optimal according to the original objective anymore.

6.6

Flexible demands

Several transportation cost functions were introduced, including increasing, decreasing proportional
and fixed costs. One additional example is mentioned now, but in a slightly different context.
The common property of transportation costs was that total cost increased (or remained constant) as the total transported amount increased. But what happens when the curve is not monotonically increasing? As this is not so practical for transportation costs, we rather demonstrate it
throughout the demands. So far, the required amount at each demand point was a strict constraint. It means that those solutions for the problem in which demands are not met are infeasible
and eliminated from the search. Any constraints so far were strict.
In some cases constraints are soft constraints instead. It means that we are interested in
solutions which violate them. In that case, the extent of violation shall be minimized, which is
another objective of the optimization procedure. Considering multiple objectives is under the field of
goal programming [17], and is not covered here. However, there are techniques to merge different
objective functions into a single one, resulting in an LP/MILP model again. One technique is the
usage of penalties, which are terms added to the objective function and are proportional to the
extent a constraint is violated. Penalties are practical: failing to comprehend to a desired goal can
sometimes be measured or estimated as costs which can be added to the objective if it is profit
maximization or cost minimization.
In this section, the starting point is the original transportation problem again, and is expanded
with flexible demands.
