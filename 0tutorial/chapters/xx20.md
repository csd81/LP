---------------
Problem 23.
Solve Problem 22, the original example transportation problem, with one modification: only those
connections are allowed for transportation whose unit costs are not greater than 7.
We introduce a parameter to denote the unit cost limit.
param Max_Unit_Cost, default 7;
Note that by providing a default value of 7 instead of setting the parameter equal to 7, we allow
the possibility to alter Max_Unit_Cost by providing a value in the data section, if we ever want to
choose another limit.
One possible solution is to express a new constraint that explicitly finds each prohibited connection and sets the transported amount there to zero, effectively excluding the connection from the
model.
s.t. Connections_Prohibited
{s in Supplies, d in Demands: Cost[s,d] > Max_Unit_Cost}: tran[s,d] = 0;
However, in this case we use many variables in the model just to fix them at zero. It is possible
not to include those variables in the model formulation at all, and this can be done by introducing
a filter at the setof expression defining the Connections set.
set Connections :=
setof {s in Supplies, d in Demands: Cost[s,d] <= Max_Unit_Cost} (s,d);
By this filter, we only include those connections in the Connections set that are allowed. Therefore without the modification of other parts of the model, the exclusion is implemented – just the
indexing expressions (s,d) in Connections iterate over a smaller set in the background.
Note that care must be taken with this method, because now the following constraint would give
an out of domain error.

97

6.3. INCREASING UNIT COSTS

TRANSPORTATION PROBLEM

s.t. Availability_at_Supply_Points {s in Supplies}:
sum {d in Demands} tran[s,d] <= Available[s];
The problem is that tran[s,d] is iterated over all pairs of s in Supplies and d in Demands,
but the variable is simply not defined for all such pairs now. This is in strong contrast with the first
approach where they are defined, but explicitly set to zero. We must now ensure that the sum only
considers allowed connections, and it can be done as follows.
s.t. Availability_at_Supply_Points {s in Supplies}:
sum {(s,d) in Connections} tran[s,d] <= Available[s];
In this case, the role of s and d are different in the sum operator. Despite used as an index, s is a
constant value. But d is introduced inside the indexing expression, therefore it can be freely chosen
by the sum. The meaning of the indexing expression is that all (s,d) pairs are selected for which
the s is a given value. This effectively sums over all demands that are allowed to be connected to
the particular s, and the constraint works as desired.
The point is that an n-tuple index in an indexing expression can have constant coordinates as
long as it contains at least one new, free symbol for a coordinate. In the GNU MathProg language
documentation, an index symbol which is introduced by an indexing expression is called a dummy
index. Dummy indices are freely selected by the indexing expression in all possible ways, and can
be used as constants afterwards in the expression. Here s is a dummy index from the indexing of
the constraint, whereas d is a dummy index from the indexing expression of the sum operator, but
both can be referred to in the operand of the sum, which is tran[s,d] now.
The model contains another constraint, for the demands, this must also be updated similarly, by
replacing s in Supplies with (s,d) in Connections, and our model section for the new problem
is ready.
Solving it with the original problem data reports an optimal solution of 2790, slightly worse than
the original solution of 2700. This is not surprising, as the original solution used a unit cost of 8. By
excluding it, in theory it is possible to obtain the same objective another way, but it is not the case
here. The moral of the story is that contrary to first thought, excluding too expensive connections
can be a disadvantage in the transportation problem.
Note that although the transportation problem has feasible (and optimal) solutions if the total
supplies are not less than the total demands, this is no longer guaranteed if certain connections are
prohibited.

6.3

Increasing unit costs

So far, a linear transportation cost was supposed at each connection. The amount is simply multiplied by a constant to obtain the cost. The relation of the total amount transported and the total
cost incurred can be schematically represented as in Figure 2. The red line represents the calculated
total costs, but the area above that curve can be regarded as „feasible” too. The logic behind this
is that we are allowed to pay more than needed, it just makes no sense.
The term proportional cost is also widely used. Proportional cost means such a cost or its
component for which the ratio of total amounts and costs is a parameter constant.
In practice, the total cost or effort to be paid for some resource to be used is not always proportional to the amount of resource actually used. A few common examples are shown in this and the
following sections, which can be modeled as an LP, or at least as an MILP model.
The first example is when the unit cost is a constant, but after some threshold amount is
reached, it increases to a higher constant value. This is common in practice and the phenomenon is
called the law of diminishing returns. This means if we spend an additional unit for costs, we
98

6.3. INCREASING UNIT COSTS

TRANSPORTATION PROBLEM

Figure 2: Linear transportation costs.
get less and less return. This is equivalent of having a unit price which increases with total amounts
already obtained.
